<template>
	<div class="vhE-2 " id="rightNavigation">
		<div class="containerR" id="tools" style="height:105%;">	
			
		   	<div class="input-alt"></div>	
		   	<span v-if="circuitconnectiontools==true" class="pr z-1" >		 
		   	 	<circuitconnectiontools has='1'  ></circuitconnectiontools>
		   	</span>	   
		   	<span v-if="electricitytools==true">	
			   	<span class="fa fa-arrows-alt bg-white rightnavexpander" @click="rightnavexpander"></span>		   		
		   		<electricity :resistorConfig="config"></electricity>	   		
		   	</span>
		   	<span v-if="othertools==true">	 
		   		<span v-if= "type=='measurement' && startExperiment == true">		   		
				   	<!-- <span class="fa fa-arrows-alt bg-white rightnavexpander" @click="rightnavexpander"></span> -->
		            <div v-for="i in toolsizes_r[0].length"  :key="i" @click="addactivate($event);changeApparatus(toolsizes_r[0][i-1],toolsizes_r[1][i-1],toolsizes_r[2][i-1])"  v-bind:style="{width:+'150px'}" class="box">
		            		Object {{i}}
		        	</div>                  
		   		</span>
		   		<span v-if= "type=='micrometer' && startExperiment == true">		   		
				   	<!-- <span class="fa fa-arrows-alt bg-white rightnavexpander" @click="rightnavexpander"></span> -->
		            <div v-for="j in toolsizes_r.length"  :key="j" @click="addactivate($event);changeApparatusForMicrometer(toolsizes_r[j-1])"  v-bind:style="{width:+'150px'}" class="box">
		            		Object {{j}}
		        	</div>                  
		   		</span>
		   	</span>
		<!-- <span v-if="toolstate==true">
		</span>		
		<span v-else>			
		</span> -->
		</div>
		<div class="containerR px-2" style="display: none;" id="resulttable">
		   	<div class="input-alt"></div>
		   <span class="fa fa-arrows-alt bg-white rightnavexpander" @click="rightnavexpander"></span>		   
		   <div v-html="result" v-if="startExperiment">		   	
		   </div>				                
		</div>
		<div class="containerR" style="display: none;" id="resultgraph">				
		   	<div class="input-alt"></div>
		   	<span class="fa fa-arrows-alt bg-white rightnavexpander" @click="rightnavexpander"></span>

		   <h1>Graph</h1>				                
		</div>
		<div class="containerR" style="display: none;" id="userhelp">		
		   	<div class="input-alt"></div>		
		   	<span class="fa fa-arrows-alt bg-white rightnavexpander" @click="rightnavexpander"></span>			
		   <h1>Help</h1>				                
		</div>
		<!-- <div class="containerR" style="display: none;" id="unkl">			
		   	<span class="fa fa-arrows-alt bg-white rightnavexpander"></span>
            <div v-if="toolstate==true" v-for="tool in toolsizes"  :key="tool" @click="addactivate;changeApparatus(tool)"  v-bind:style="{width:tool+'px'}" class="box">
            		Size
        	</div> 			                
		</div> -->
	</div>
</template>
<script>
	import circuitconnectiontools from './circuitconnectiontools';
	import electricity from './electricityEquipment';
	export default{
	components:{
		circuitconnectiontools,
		electricity,
	},
	 data:function() {
		    return{
		    	numC:0,
		    	exerc:false,
		    	resour:false,
		    	show:false,
            	hide:true,
            	control:false,     
            	toolsizes_r:[],             	            
            	toolnstate:false,
            	rightNavState:false,
            	activeRightNav:'tools'		            
		   	}
        },
        methods:{
        	toggleNavOffHover(){
        			                    		 
            	//control = false;
        	},
        	addactivate(e){
        	
        		/*let box = document.getElementsByClassName('box');
        		for (let i = 0; i < box.length; i++) {
        			box[i].classList.remove('boxActive');
        		}*/
        		$('.box').removeClass('boxActive');
        		$(e.target).addClass('boxActive');

        	},
        	changeApparatus(t1,t2,t3){
        		if (t1 != undefined && t2 != undefined && t3 != undefined  ) {
        			t1 = Number(t1);
        			t2 = Number(t2);
        			t3 = Number(t3);
        			let  experimentSheet = $('#experimentSheet');
        		    experimentSheet.attr('src',this.url+t1+'-'+t2+'-'+t3); //tool is value
        		}
        	},
        	changeApparatusForMicrometer(t1){
        		if (t1 != undefined) {
        			t1 = Number(t1);
	        		let  experimentSheet = $('#experimentSheet');
	        		 experimentSheet.attr('src',this.url+t1); //tool is value        			
        		}
        	},
        	toggleNavOnHover: function(value){          
        		
            },
        	toggller(e){

        	},
        	rightnavexpander:function(){
        		if(this.rightNavState=== false){
        			$('#rightNav').addClass('width50');
        			this.rightNavState = true;
        		}else if(this.rightNavState === true){
        			$('#rightNav').removeClass('width50');
        			this.rightNavState = false;
        		}
        	}

        },	
        computed: {
    		// a computed getter		  
		  },
        created: function () {  
          this.toolsizes_r = JSON.parse(this.toolsizes);          	        	
          this.$eventBus.$on('startExperiment',data=>{
          	this.startExperiment = true;          	
          })
		  this.$eventBus.$on('rightNavtoggleClick', data => {		  	
		  	//this.toggleNavOnHover();
		  	if(this.activeRightNav === data.text){		  		
 
		  	}else{
		  		$('.containerR').slideUp();
		  		$('#'+data.text).slideDown(200);		  			  		
		  		this.activeRightNav = data.text
		  	}
		  })		  

		  //invoke from toggleRightNav2() in ExperimentRibbon.vue;
		  this.$eventBus.$on('toggleRightNav2', data=>{
        		$('#rightNav').addClass('width50');
        		this.rightNavState = true;
		  })
		},

		beforeDestroy: function () {
		  //this.eventBus.$off('rightNavtoggleClick', this.toggleNavOnHover)		  
		},

        props:{
            toolsizes:{
            	type:String,
            	default:function(){
            		return "[]";
            	}
            },
            url:String,
            result: String,
            toolstate:Boolean,
            circuitconnectiontools:Boolean,
            othertools:Boolean,
            electricitytools:Boolean,
            type:{
            	type:String,
            	default: function(){
            		return '';
            	}
            },
		    config:Array,     		    
        },        
        mounted(){        		

        	//console.log(this.toolsizes);
       		 //alert(this.resultTable)
       		 var $vm = this;	               	
        	$('.box').click(function(){
        		$('.box').removeClass('boxActive');
        		$(this).addClass('boxActive');

        	});       
        }		
	}

</script>
<style scoped>
	@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap');
	/*@import url("https://use.fontawesome.com/releases/v5.13.0/css/all.css");*/
	
	div{
		font-family: 'Roboto', sans-serif;
	}
	.slidewr {
    position: absolute;
    width: 100px;
    height: 100px;    
    transform: translateX(-100%);
    -webkit-transform: translateX(-100%);
    
}

.slidein {
    animation: slide-in 0.5s forwards;
    -webkit-animation: slide-in 0.5s forwards;
}

.slideout {
    animation: slide-out 0.5s forwards;
    -webkit-animation: slide-out 0.5s forwards;
}
    
@keyframes slide-in {
   0%   { transform:scale(0.5); opacity:0.0; left:0}
    50%  { transform:scale(1.2); opacity:0.5; left:100px}
    100% { transform:scale(1.0); opacity:1.0; left:200px}

}

@-webkit-keyframes slide-in {
    0%   { transform:scale(0.5); opacity:0.0; left:0}
    50%  { transform:scale(1.2); opacity:0.5; left:100px}
    100% { transform:scale(1.0); opacity:1.0; left:200px}

}
    
@keyframes slide-out {
   0%   { transform:scale(1); opacity:1; }
    50%  { transform:scale(0.1); opacity:0.5;}
    100% { transform:translateX(-300%); opacity:0; }
}

@-webkit-keyframes slide-out {
    0%   { transform:scale(1); opacity:1; }
    50%  { transform:scale(0.5); opacity:0.5;}
    100% { transform:translateX(-300%); opacity:-10; }
}

::-webkit-scrollbar {
  width: 9px; 
  cursor: pointer;
}

/* Track */
::-webkit-scrollbar-track {
	width: 50px;
  border-radius: 5px;
}
 
/* Handle */
		
::-webkit-scrollbar-thumb {
  background: #eee; 
  border-radius: 10px;
  cursor: pointer;

}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #fff; 
  cursor: pointer;
}

.box{
	height: 35px; 
	/*background-image:linear-gradient(var(--sys-primary), #34d, var(--sys-primary));*/
	background: var(--sys-primary);
	box-shadow: 0px 0px 10px #fff;
	margin: 35px auto;
	text-align: center;
	color: #fff;
	padding-top: 5px;
	border-radius: 4px;
	text-shadow: 1px 2px 2px #555;
	cursor: pointer !important;
}
.boxActive{
	background: var(--sys-primary);	
}
.containerR{
	height: 105%;
	background: var(--sys-primary);
	overflow-x: hidden;
	color: #fff;
}
.fa-arrows-alt{
	padding: 5px;
	border-radius: 0px 0px 3px 0px;
	cursor: pointer;
	border-left: 1px solid var(--sys-primary);
	color: #fff;	
	background:transparent !important;
}
.fa-arrows-alt:hover{
	color: var(--sys-primary);
	background:#fff !important;
}
.input-search{
	width:100%;
	height:37px;
	background:var(--sys-primary);
	padding:10px;
	color:#fff;
	border:none;
}
.input-alt{
	width:100%;
	height:37px;
	background:var(--sys-primary);
	padding:10px;
	color:#fff;
	border:none;
	position: relative;
	z-index: 10;
}
.serachicon{
	color:#eee;
	position: absolute;
	right: 10px; 
	top: 10px;
}
.pr{
	position: relative;
	display: block;
	} 
.z-1{
	z-index: 1;
}
.vhE-2{
	height: 87vh;
	width: 100%;
}
</style>